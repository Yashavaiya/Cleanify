



<app-header></app-header>

<div class="container p-5 border border-white rounded shadow-lg mt-5 bg-light">
  <form [formGroup]="UpdateCustomerFormGroup" (ngSubmit)="collection()">

    <div class="text-uppercase d-flex justify-content-center pt-1">
      <h5 class="text"><b>Customer Form</b></h5> 
    </div>

    <div class="row g-2 pt-3">

      <div class="col-md">
        <label class="required">Name:</label>
        <input [maxLength]="50" type="text" class="form-control" placeholder="Enter Name" formControlName="name">
        <div class="pt-3"
          *ngIf="isFieldInvalid('name') && (UpdateCustomerFormGroup.get('name').dirty || UpdateCustomerFormGroup.get('name').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('name').hasError('required')">
            Name is required.
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('name').hasError('pattern')">
            Only letters and spaces are allowed (no numbers).
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('name').hasError('minlength')">
            Name must be at least 3 characters long.
          </div>
        </div>
      </div>

      <div class="col-md">
        <label>Email :</label>
        <input [maxLength]="50" type="text" class="form-control" placeholder="Enter Email" formControlName="email">
        <div class="pt-3"
          *ngIf="isFieldInvalid('email') && (UpdateCustomerFormGroup.get('email').dirty || UpdateCustomerFormGroup.get('email').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('email').hasError('required')">
            Email is required.
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('email').hasError('pattern')">
            Please enter a valid email address.
          </div>
        </div>
      </div>

    </div>

    <div class="row g-2 pt-3">
      <div class="col-md">
        <label for="formFile" class="form-label">Photo :</label>
        <input (change)="onFileChange($event)" accept="image/*" class="form-control" type="file" id="formFile">
        <span *ngIf="customer" class="pt-2">
          <p>Selected Photo: {{ customer.photo }}</p>
        </span>
        <div class="pt-3"
          *ngIf="isFieldInvalid('photo') && (UpdateCustomerFormGroup.get('photo').dirty || UpdateCustomerFormGroup.get('photo').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('photo').hasError('required')">
            Photo is required.
          </div>
        </div>
      </div>

      <div class="col-md">
        <label>Phone Number :</label>
        <input type="number" class="form-control" placeholder="Enter Phone Number" formControlName="phone">
        <div class="pt-3"
          *ngIf="isFieldInvalid('phone') && (UpdateCustomerFormGroup.get('phone').dirty || UpdateCustomerFormGroup.get('phone').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('phone').hasError('pattern')">
            Phone number is not valid.
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('phone').hasError('required')">
            Phone is required.
          </div>
        </div>
      </div>

    </div>
    <div class="row g-2 pt-3">

      <div class="col-md">
        <label>Address :</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" formControlName="address"
          placeholder="Enter Address"></textarea>
        <div class="pt-3"
          *ngIf="isFieldInvalid('address') && (UpdateCustomerFormGroup.get('address').dirty || UpdateCustomerFormGroup.get('address').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="UpdateCustomerFormGroup.get('address').hasError('required')">
            Address is required.
          </div>
        </div>
      </div>
    </div>
    <div class="button-1 d-flex justify-content-center p-5">
      <button type="submit" class="btn btn-outline-primary">Update</button>
    </div>

  
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>



  </form>
</div>
