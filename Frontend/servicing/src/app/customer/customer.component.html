<app-header></app-header>
<div class="container p-5 border border-white rounded shadow-lg mt-5 bg-light">
  <form [formGroup]="customerFormGroup" (ngSubmit)="createCustomerProcess(customerFormGroup.value)">

    <div class="text-uppercase d-flex justify-content-center pt-1">
      <h5><b>Customer Form</b></h5>
    </div>

    <div class="row g-2 pt-3">

      <div class="col-md">
        <label>Name :</label>
        <span class="required text-danger"> *</span>
        <input [maxLength]="50" type="text" class="form-control" placeholder="Enter Name" formControlName="name">
        <div class="pt-3"
          *ngIf="isFieldInvalid('name') && (customerFormGroup.get('name').dirty || customerFormGroup.get('name').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('name').hasError('required')">
            Name is required.
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('name').hasError('pattern')">
            Only letters and spaces are allowed (no numbers).
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('name').hasError('minlength')">
            Name must be at least 3 characters long.
          </div>
        </div>
      </div>

      <div class="col-md">
        <label>Email :</label>
        <span class="required text-danger"> *</span>
        <input [maxLength]="50" type="text" class="form-control" placeholder="Enter Email" formControlName="email">
        <div class="pt-3"
          *ngIf="isFieldInvalid('email') && (customerFormGroup.get('email').dirty || customerFormGroup.get('email').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('email').hasError('required')">
            Email is required.
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('email').hasError('pattern')">
            Please enter a valid email address.
          </div>
        </div>
      </div>

    </div>

    <div class="row g-2 pt-3">
      <div class="col-md">
        <label for="formFile" class="form-label">Photo :</label>
        <span class="required text-danger"> *</span>
        <input (change)="onFileChange($event)" accept="image/*" class="form-control" type="file" id="formFile">
        <div class="pt-3"
          *ngIf="isFieldInvalid('photo') && (customerFormGroup.get('photo').dirty || customerFormGroup.get('photo').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('photo').hasError('required')">
            Photo is required.
          </div>
        </div>
      </div>

      <div class="col-md">
        <label>Phone Number :</label>
        <span class="required text-danger"> *</span>
        <input [maxLength]="10" type="text" class="form-control" placeholder="Enter Phone Number" formControlName="phone">
        <div class="pt-3"
          *ngIf="isFieldInvalid('phone') && (customerFormGroup.get('phone').dirty || customerFormGroup.get('phone').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('phone').hasError('pattern')">
            Phone number is not valid.
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('phone').hasError('required')">
            Phone is required.
          </div>
        </div>
      </div>

    </div>
    <div class="row g-2 pt-3">

      <div class="col-md">
        <label>Address :</label>
        <span class="required text-danger"> *</span>
        <textarea [maxLength]="500" class="form-control" rows="3" formControlName="address"
          placeholder="Enter Address"></textarea>
        <div class="pt-3"
          *ngIf="isFieldInvalid('address') && (customerFormGroup.get('address').dirty || customerFormGroup.get('address').touched)">
          <div class="alert alert-danger" role="alert" *ngIf="customerFormGroup.get('address').hasError('required')">
            Address is required.
          </div>
        </div>
      </div>
    </div>
    <div class="button-1 d-flex justify-content-center p-5">
      <button type="submit" class="btn btn-outline-primary">Submit</button>
    </div>
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
  </form>
</div>
